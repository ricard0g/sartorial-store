{% comment %}
    Main Search Snippet that appears on Landing Page for Tablet and Mobile screen sizes

    Usage:
        {% render 'main-search' %}
{% endcomment %}
<div data-open="false" class="main-search-small-screens">
    <predictive-search class="predictive-search-element-small-screens">
        <form class="main-search-form-small-screens" action="{{ routes.search_url }}" method="get" role="search">
            <input
                id="Search"
                type="search"
                name="q"
                placeholder="Search"
                value="{{ search.terms | escape }}"
                class="header-search-input-small-screens"
                role="combobox"
                aria-expanded="false"
                aria-owns="predictive-search-results"
                aria-controls="predictive-search-resulst"
                aria-haspopup="listbox"
                aria-autocomplete="list"
            >
            <span class="search-icon-small-screens">
                <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"/>

                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>

                    <g id="SVGRepo_iconCarrier"> <path d="M15.7955 15.8111L21 21M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> </g>
                </svg>
            </span>
            <div id="predictive-search" tabindex="-1"></div>
        </form>
    </predictive-search>

    <div id="predictive-search-small-screens" tabindex="-1">
        {% if predictive_search.performed %}
            <div id="predictive-search-results-small-screens">
                {% if predictive_search.resources.products.size > 0 %}
                    <h3 id="predictive-search-products-small-screens">Product Suggestions</h3>
                    <ul
                        class="products-list-small-screens"
                        role="listbox"
                        aria-labelledby="predictive-search-products"
                    >
                        {% for product in predictive_search.resources.products %}
                            <li class="product-item-small-screens" role="option">
                                <a href="{{ product.url }}">
                                    {{ product.featured_image | image_url: width: 50 | image_tag }}
                                    <span class="product-title-small-screens">{{ product.title }}</span>
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                {% endif %}
                <button>Search for "{{ predictive_search.terms }}"</button>
            </div>
        {% endif %}
    </div>
</div>
